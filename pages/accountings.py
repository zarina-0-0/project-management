import streamlit as st
import pandas as pd

def format_description(text):
    if isinstance(text, str):
        text = text.replace('•', '<br>•')
        text = text.replace('\n', '<br>')
        return f"<div style='line-height: 1.6;'>{text}</div>"
    return text

data = {
    "Section": [
        "Целевые сегменты",
        "Потребности и конкуренты",
        "УТП и проверка гипотез",
        "Решение проблемы",
        "Каналы продвижения",
        "Источники прибыли",
        "Затраты",
        "Критерии оценки (AARRR)",
        "Конкурентное преимущество"
    ],
    "Description": [
        """• Основная ЦА: 
        - Женщины 18-65 лет, ориентированные на персонализированный уход за кожей
        - Особенно важны критерии: экологичность состава (organic, vegan, cruelty-free), безопасность для здоровья и окружающей среды
        - Готовы платить премиум за сертифицированную натуральную косметику
        • Пилотная группа: 
        - 100 участниц 25-45 лет из эко-сообществ
        • Доп. сегменты:
        - Беременные и кормящие, ищущие гипоаллергенные средства
        - Мужчины 20+, выбирающие eco-friendly уход
        - Веганы и сторонники zero-waste lifestyle""",

        """Главная цель: Персонализированный подбор экологичной косметики с учётом индивидуальных параметров
• Покрываемые потребности:
  - Экономия времени на поиск подходящих средств
  - Гарантия безопасности состава
  - Учёт внешних факторов (климат, экология)
• Конкуренты:
  - Skinive (анализ кожи по фото)
  - CosDNA (база составов)
  - Сайты брендов с подбором по параметрам""",

        """УТП: "Персональный косметолог в вашем смартфоне"
• Ключевые ценности:
  - Точный подбор по 5+ параметрам кожи
  - Экспертная оценка составов в реальном времени
  - Прогноз влияния климата на кожу<br>
• Проверяемые гипотезы:
  - 70% пользователей готовы платить за персонализацию
  - Точность рекомендаций выше 85%""",

        """• Технологическое решение: AI-анализ кожи + база 10,000+ продуктов
• Методы валидации:
  - A/B тестирование рекомендаций
  - Опросы удовлетворённости в пилотной группе
  - Измерение конверсии в покупку
• Ключевые метрики решения:
  - Время подбора < 3 минут
  - Точность рекомендаций > 80%""",

        """• Основные каналы:
  - Мобильное приложение
  - Партнёрские beauty-блоги
  - Реклама в соцсетях
• Вторичные каналы:<br>
  - Рассылки с персонализацией
  - Оффлайн-ивенты с брендами
  - Партнёрские программы""",

        """• Основные:
  - Комиссия 15-20% с продаж через платформу
  - Подписка Premium (₽990/мес)
• Дополнительные:
  - Платные интеграции для брендов
  - White-label решения для ритейлеров
  - Продажа анонимизированных данных""",

        """• Постоянные:
  - Разработка и поддержка платформы (~₽300к/мес)
  - Аренда серверов (~₽50к/мес)
• Переменные:
  - Маркетинг
  - Закупка данных о продуктах
  - Обслуживание клиентов""",

        """• Awareness: CTR рекламных кампаний от 4 до 9% • Acquisition: Стоимость привлечения < ₽500 • Retention: 30-day retention > 40% • Revenue: ARPU > ₽1200/мес • Referral: Коэффициент виральности > 0.5""",

        """• Технологическое:
  - Алгоритм анализа кожи
  - Эксклюзивные данные о 100+ нишевых брендах
• Операционное:
  - Сотрудничество с квалифицированными специалистами
  - Партнёрство с косметическими лабораториями
  - Быстрое тестирование новых продуктов
• Маркетинговое:
  - Натуральные продукты
  - Узнаваемый эксперт в команде"""
    ]
}

df = pd.DataFrame(data)

df['Description'] = df['Description'].apply(format_description)

st.title("Lean Canvas")

html = f"""
<style>
  table {{
    width: 100%;
    border-collapse: collapse;
  }}
  th {{
    background-color: #f8bbd0;  /* Пастельно-розовый */
    font-weight: bold;
    font-size: 1.1em;
    padding: 12px;
    border: 1px solid #e91e63;
  }}
  td {{
    padding: 12px;
    border: 1px solid #e91e63;
    vertical-align: top;
  }}
  tr:nth-child(even) {{
    background-color: #fce4ec;  /* Светло-розовый */
  }}
  tr:nth-child(odd) {{
    background-color: #f8bbd0;  /* Пастельно-розовый */
  }}
</style>

{df.to_html(escape=False, index=False)}
"""

st.markdown(html, unsafe_allow_html=True)